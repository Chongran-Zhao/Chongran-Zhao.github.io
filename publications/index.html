<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/92b53c90e215dddf.css" data-precedence="next"/><link rel="icon" href="/figures/logo.png" type="image/svg+xml"/><link rel="dns-prefetch" href="https://google-fonts.jialeliu.com"/><link rel="preconnect" href="https://google-fonts.jialeliu.com" crossorigin=""/><link rel="preload" as="style" href="https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Crimson+Text:ital,wght@0,400;0,600;1,400&amp;display=swap"/><link rel="stylesheet" id="gfonts-css" href="https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Crimson+Text:ital,wght@0,400;0,600;1,400&amp;display=swap" media="print"/><noscript><link rel="stylesheet" href="https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Crimson+Text:ital,wght@0,400;0,600;1,400&amp;display=swap"/></noscript><title>Publications | Chongran Zhao</title><meta name="description" content="Peer-reviewed and preprint publications."/><meta name="author" content="Chongran Zhao"/><meta name="keywords" content="Chongran Zhao,PhD,Research,Southern University of Science and Technology (SUSTech)"/><meta name="creator" content="Chongran Zhao"/><meta name="publisher" content="Chongran Zhao"/><meta property="og:title" content="Chongran Zhao"/><meta property="og:description" content="Master student in Mechanics at SUSTech."/><meta property="og:site_name" content="Chongran Zhao&#x27;s Academic Website"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Chongran Zhao"/><meta name="twitter:description" content="Master student in Mechanics at SUSTech."/><link rel="icon" href="/figures/logo.png"/><style>
.bibtex-wrap{position:relative;display:inline-flex;}
.bibtex-popover{position:fixed;right:0;top:100%;margin-top:8px;min-width:320px;max-width:480px;z-index:9999;display:none;opacity:0;pointer-events:none;transform:translateY(-6px);transition:opacity 160ms ease,transform 160ms ease;}
.bibtex-wrap.is-open .bibtex-popover{display:block;opacity:1;pointer-events:auto;transform:translateY(0);}
.bibtex-panel{background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.12);padding:12px;}
.bibtex-preview{font-size:11px;line-height:1.4;white-space:pre-wrap;max-height:180px;overflow:auto;color:#374151;margin:0;}
.bibtex-actions{display:flex;justify-content:flex-end;margin-top:8px;}
.bibtex-copy{font-size:11px;padding:4px 8px;border-radius:6px;border:1px solid #e5e7eb;background:#f9fafb;color:#111827;cursor:pointer;}
.bibtex-global{position:fixed;z-index:9999;display:none;opacity:0;transform:translateY(-6px);transition:opacity 160ms ease,transform 160ms ease;}
.bibtex-global.show{display:block;opacity:1;transform:translateY(0);}
[data-theme="dark"] .bibtex-panel{background:#0f172a;border-color:rgba(148,163,184,0.24);}
[data-theme="dark"] .bibtex-preview{color:#cbd5f5;}
[data-theme="dark"] .bibtex-copy{background:#111827;border-color:rgba(148,163,184,0.24);color:#e5e7eb;}

nav.site-header {
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}
[data-theme="dark"] nav.site-header {
  background: rgba(15, 23, 42, 0.9);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}
</style>
</head><body class="font-sans antialiased"><div ><nav class="site-header fixed top-0 left-0 right-0 z-50" data-headlessui-state=""><div class="transition-all duration-300 ease-out bg-transparent" ><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16 lg:h-20"><div class="flex-shrink-0" tabindex="0"><a class="text-xl lg:text-2xl font-serif font-semibold text-primary hover:text-accent transition-colors duration-200" href="/">Chongran Zhao</a></div><div class="hidden lg:block"><div class="ml-10 flex items-center space-x-8"><div class="flex items-baseline space-x-8"><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/"><span class="relative z-10">About</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/research/"><span class="relative z-10">Research</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-primary" href="/publications/"><span class="relative z-10">Publications</span><div class="absolute inset-0 bg-accent/10 rounded-lg"></div></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/activities/"><span class="relative z-10">Activities</span></a></div><button class="theme-toggle flex items-center justify-center w-10 h-10 rounded-lg border border-neutral-200 dark:border-[rgba(148,163,184,0.24)] bg-background dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 hover:text-accent transition-colors duration-200" aria-label="Toggle theme" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><path d="M12 3a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0V4a1 1 0 0 1 1-1z"/><path d="M12 18a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1z"/><path d="M4 11a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1z"/><path d="M17 11a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1z"/><path d="M6.34 6.34a1 1 0 0 1 1.42 0l1.41 1.41a1 1 0 0 1-1.42 1.42L6.34 7.76a1 1 0 0 1 0-1.42z"/><path d="M16.83 16.83a1 1 0 0 1 1.42 0l1.41 1.41a1 1 0 0 1-1.42 1.42l-1.41-1.41a1 1 0 0 1 0-1.42z"/><path d="M17.66 6.34a1 1 0 0 1 0 1.42l-1.41 1.41a1 1 0 1 1-1.42-1.42l1.41-1.41a1 1 0 0 1 1.42 0z"/><path d="M7.17 16.83a1 1 0 0 1 0 1.42l-1.41 1.41a1 1 0 0 1-1.42-1.42l1.41-1.41a1 1 0 0 1 1.42 0z"/><circle cx="12" cy="12" r="3"/></svg></button></div></div><div class="lg:hidden flex items-center space-x-2"><button class="theme-toggle flex items-center justify-center w-10 h-10 rounded-lg border border-neutral-200 dark:border-[rgba(148,163,184,0.24)] bg-background dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 hover:text-accent transition-colors duration-200" aria-label="Toggle theme" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><path d="M12 3a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0V4a1 1 0 0 1 1-1z"/><path d="M12 18a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1z"/><path d="M4 11a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1z"/><path d="M17 11a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1z"/><path d="M6.34 6.34a1 1 0 0 1 1.42 0l1.41 1.41a1 1 0 0 1-1.42 1.42L6.34 7.76a1 1 0 0 1 0-1.42z"/><path d="M16.83 16.83a1 1 0 0 1 1.42 0l1.41 1.41a1 1 0 0 1-1.42 1.42l-1.41-1.41a1 1 0 0 1 0-1.42z"/><path d="M17.66 6.34a1 1 0 0 1 0 1.42l-1.41 1.41a1 1 0 1 1-1.42-1.42l1.41-1.41a1 1 0 0 1 1.42 0z"/><path d="M7.17 16.83a1 1 0 0 1 0 1.42l-1.41 1.41a1 1 0 0 1-1.42-1.42l1.41-1.41a1 1 0 0 1 1.42 0z"/><circle cx="12" cy="12" r="3"/></svg></button><button class="inline-flex items-center justify-center p-2 rounded-md text-neutral-600 hover:text-primary hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-accent transition-colors duration-200" id="headlessui-disclosure-button-Â«R5pdbÂ»" type="button" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open main menu</span><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="block h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></div></button></div></div></div></div></nav><main class="min-h-screen pt-16 lg:pt-20"><div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12"><div ><div class="mb-8"><h1 class="text-4xl font-serif font-bold text-primary mb-4">Publications</h1><p class="text-lg text-neutral-600 dark:text-neutral-500 max-w-2xl">Peer-reviewed and preprint publications.</p></div><div class="space-y-6"><div class="space-y-6"><div class="bg-white dark:bg-neutral-900 p-6 rounded-xl shadow-sm border border-neutral-200 dark:border-neutral-800 hover:shadow-md transition-all duration-200"  data-pub-card="true" data-title="Modeling finite viscoelasticity based on the Green-Naghdi kinematic assumption and generalized strains" data-authors="Ju Liu, Chongran Zhao, J. Guan" data-journal="Journal of the Mechanics and Physics of Solids" data-year="2026" data-bibtex="@article{LIU2026106346,&#10;    title = {Modeling finite viscoelasticity based on the Greenâ€“Naghdi kinematic&#10;  assumption&#10;    and generalized strains},&#10;    journal = {Journal of the Mechanics and Physics of Solids},&#10;    volume = {206},&#10;    pages = {106346},&#10;    year = {2026},&#10;    issn = {0022-5096},&#10;    doi = {https://doi.org/10.1016/j.jmps.2025.106346},&#10;    url = {https://www.sciencedirect.com/science/article/pii/S0022509625003205},&#10;    author = {Ju Liu and Chongran Zhao and Jiashen Guan},&#10;    }"><div class="flex flex-col md:flex-row gap-6"><div class="flex-grow"><h3 class="text-xl font-semibold text-primary mb-2 leading-tight">Modeling finite viscoelasticity based on the Green-Naghdi kinematic assumption and generalized strains</h3><p class="text-base text-neutral-600 dark:text-neutral-400 mb-2"><span><span class=" ">Ju Liu</span>, </span><span><span class="font-semibold text-accent ">Chongran Zhao</span>, </span><span><span class=" ">J. Guan</span></span></p><p class="text-sm font-medium text-neutral-800 dark:text-neutral-600 mb-3">Journal of the Mechanics and Physics of Solids, <!-- -->2026<!-- -->, 206<!-- -->, 106346</p><p class="text-xs text-neutral-500 mb-3">History: Submitted Jan 17, 2025; Revised Aug 29, 2025; Accepted Sep 5, 2025.</p><div class="flex flex-wrap gap-2 mt-auto"><a href="https://doi.org/10.1016/j.jmps.2025.106346" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-accent hover:text-white transition-colors">DOI</a><span class="bibtex-wrap"><button class="inline-flex items-center px-3 py-1 rounded-md text-xs font-medium transition-colors bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-accent hover:text-white" data-bibtex-button="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-3 w-3 mr-1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"></path></svg>BibTeX</button><div class="bibtex-popover"><div class="bibtex-panel"><pre class="bibtex-preview"></pre><div class="bibtex-actions"><button class="bibtex-copy" type="button">Copy</button></div></div></div></span></div></div></div></div><div class="bg-white dark:bg-neutral-900 p-6 rounded-xl shadow-sm border border-neutral-200 dark:border-neutral-800 hover:shadow-md transition-all duration-200"  data-pub-card="true" data-title="A framework for finite-strain viscoelasticity based on rheological representations" data-authors="Chongran Zhao, H. Yuan, Ju Liu" data-journal="arXiv preprint" data-year="2025" data-bibtex="@misc{zhao2025frameworkfinitestrainviscoelasticitybased,&#10;          title={A framework for finite-strain viscoelasticity based on rheological&#10;    representations},&#10;          author={Chongran Zhao and Hongyan Yuan and Ju Liu},&#10;          year={2025},&#10;          eprint={2508.14518},&#10;          archivePrefix={arXiv},&#10;          primaryClass={cond-mat.soft},&#10;          url={https://arxiv.org/abs/2508.14518},&#10;    }"><div class="flex flex-col md:flex-row gap-6"><div class="flex-grow"><h3 class="text-xl font-semibold text-primary mb-2 leading-tight">A framework for finite-strain viscoelasticity based on rheological representations</h3><p class="text-base text-neutral-600 dark:text-neutral-400 mb-2"><span><span class="font-semibold text-accent ">Chongran Zhao</span>, </span><span><span class=" ">H. Yuan</span>, </span><span><span class=" ">Ju Liu</span></span></p><p class="text-sm font-medium text-neutral-800 dark:text-neutral-600 mb-3">arXiv preprint, <!-- -->2025</p><p class="text-xs text-neutral-500 mb-3">History: Submitted to International Journal of Solids and Structures on Aug 19, 2025; Revised Nov 30, 2025; awaiting second-round review.</p><div class="flex flex-wrap gap-2 mt-auto"><a href="https://doi.org/10.48550/arXiv.2508.14518" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-accent hover:text-white transition-colors">DOI</a><span class="bibtex-wrap"><button class="inline-flex items-center px-3 py-1 rounded-md text-xs font-medium transition-colors bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-accent hover:text-white" data-bibtex-button="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-3 w-3 mr-1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"></path></svg>BibTeX</button><div class="bibtex-popover"><div class="bibtex-panel"><pre class="bibtex-preview"></pre><div class="bibtex-actions"><button class="bibtex-copy" type="button">Copy</button></div></div></div></span></div></div></div></div><div class="bg-white dark:bg-neutral-900 p-6 rounded-xl shadow-sm border border-neutral-200 dark:border-neutral-800 hover:shadow-md transition-all duration-200"  data-pub-card="true" data-title="A continuum and computational framework for viscoelastodynamics: III. A nonlinear theory" data-authors="Ju Liu, J. Guan, Chongran Zhao, J. Luo" data-journal="Computer Methods in Applied Mechanics and Engineering" data-year="2024" data-bibtex="@article{liu2024continuum,&#10;      title={A continuum and computational framework for viscoelastodynamics: III. A&#10;    nonlinear theory},&#10;      author={Liu, Ju and Guan, Jiashen and Zhao, Chongran and Luo, Jiawei},&#10;      journal={Computer Methods in Applied Mechanics and Engineering},&#10;      volume={430},&#10;      pages={117248},&#10;      year={2024},&#10;      publisher={Elsevier}&#10;    }"><div class="flex flex-col md:flex-row gap-6"><div class="flex-grow"><h3 class="text-xl font-semibold text-primary mb-2 leading-tight">A continuum and computational framework for viscoelastodynamics: III. A nonlinear theory</h3><p class="text-base text-neutral-600 dark:text-neutral-400 mb-2"><span><span class=" ">Ju Liu</span>, </span><span><span class=" ">J. Guan</span>, </span><span><span class="font-semibold text-accent ">Chongran Zhao</span>, </span><span><span class=" ">J. Luo</span></span></p><p class="text-sm font-medium text-neutral-800 dark:text-neutral-600 mb-3">Computer Methods in Applied Mechanics and Engineering, <!-- -->2024<!-- -->, 430<!-- -->, 117248</p><p class="text-xs text-neutral-500 mb-3">History: Received May 2, 2024; Revised Jul 4, 2024; Accepted Jul 19, 2024.</p><div class="flex flex-wrap gap-2 mt-auto"><a href="https://doi.org/10.1016/j.cma.2024.117248" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-accent hover:text-white transition-colors">DOI</a><span class="bibtex-wrap"><button class="inline-flex items-center px-3 py-1 rounded-md text-xs font-medium transition-colors bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-accent hover:text-white" data-bibtex-button="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-3 w-3 mr-1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"></path></svg>BibTeX</button><div class="bibtex-popover"><div class="bibtex-panel"><pre class="bibtex-preview"></pre><div class="bibtex-actions"><button class="bibtex-copy" type="button">Copy</button></div></div></div></span></div></div></div></div></div></div></div><!--$--><!--/$--><!--$--><!--/$--></main><footer class="border-t border-neutral-200/50 bg-neutral-50/50 dark:bg-neutral-900/50 dark:border-neutral-700/50"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6"><div class="flex flex-col sm:flex-row justify-between items-center gap-2"><p class="text-xs text-neutral-500">Last updated: <!-- -->January 18, 2026</p><p class="text-xs text-neutral-500 flex items-center"><a href="https://github.com/xyjoey/PRISM" target="_blank" rel="noopener noreferrer">Built with PRISM</a><span class="ml-2">ðŸš€</span></p></div></div></footer></div><script>(function(){var root=document.documentElement;function setTheme(t){root.classList.remove("light","dark");root.classList.add(t);root.setAttribute("data-theme",t);localStorage.setItem("theme",t);} var stored=localStorage.getItem("theme");if(stored==="dark"||stored==="light"){setTheme(stored);}else{setTheme("light");} document.querySelectorAll(".theme-toggle").forEach(function(btn){btn.addEventListener("click",function(){var next=root.classList.contains("dark")?"light":"dark";setTheme(next);});});})();</script><script>(function(){
  function copyBibtex(btn){
    var card=btn.closest('[data-bibtex]');
    if(!card) return;
    var bib=card.getAttribute('data-bibtex');
    if(!bib) return;
    if(navigator.clipboard && navigator.clipboard.writeText){
      navigator.clipboard.writeText(bib).then(function(){
        var original=btn.textContent; btn.textContent='Copied';
        setTimeout(function(){btn.textContent=original;},1200);
      });
    } else {
      var ta=document.createElement('textarea');
      ta.value=bib; document.body.appendChild(ta); ta.select();
      try{document.execCommand('copy');}catch(e){}
      document.body.removeChild(ta);
      var original=btn.textContent; btn.textContent='Copied';
      setTimeout(function(){btn.textContent=original;},1200);
    }
  }
  document.querySelectorAll('[data-bibtex-button]').forEach(function(btn){
    btn.addEventListener('click', function(){copyBibtex(btn);});
  });
})();</script><script>(function(){
  function firstAuthorYear(bib){
    var authorMatch=bib.match(/author\s*=\s*\{([^}]+)\}/i);
    var yearMatch=bib.match(/year\s*=\s*\{([^}]+)\}/i);
    var author=authorMatch?authorMatch[1]:'', year=yearMatch?yearMatch[1]:'';
    var first=author.split(/\s+and\s+/i)[0].trim();
    var surname=first.includes(',')?first.split(',')[0].trim():first.split(/\s+/).slice(-1)[0];
    var title=[surname, year].filter(Boolean).join(' ');
    return title || '';
  }
  function formatBibtex(bib){
    var lines=bib.replace(//g,'').split('
').map(function(l){return l.trim();}).filter(function(l){return l.length;});
    var merged=[];
    lines.forEach(function(line){
      if(line.startsWith('@') || line==='}'){
        merged.push(line);
        return;
      }
      if(line.includes('=')){
        merged.push(line);
        return;
      }
      if(merged.length){
        merged[merged.length-1]+= ' ' + line;
      } else {
        merged.push(line);
      }
    });
    return merged.map(function(line, idx){
      if(idx===0 || line==='}') return line;
      return '  ' + line;
    }).join('
');
  }
  var global=document.createElement('div');
  global.className='bibtex-global';
  global.innerHTML='<div class="bibtex-panel"><pre class="bibtex-preview"></pre><div class="bibtex-actions"><button class="bibtex-copy" type="button">Copy</button></div></div>';
  document.body.appendChild(global);
  var preview=global.querySelector('.bibtex-preview');
  var copyBtn=global.querySelector('.bibtex-copy');
  var currentBib='';
  function positionAt(btn){
    global.style.left='0px';
    global.style.top='0px';
    var rect=btn.getBoundingClientRect();
    var popRect=global.getBoundingClientRect();
    var left=Math.min(Math.max(12, rect.right - popRect.width), window.innerWidth - popRect.width - 12);
    var top=Math.min(rect.bottom + 8, window.innerHeight - popRect.height - 12);
    global.style.left=left + 'px';
    global.style.top=top + 'px';
  }
  function show(btn, bib){
    currentBib=bib || '';
    if(preview){
      var header=firstAuthorYear(currentBib);
      var formatted=formatBibtex(currentBib);
      preview.textContent=(header?header + '

':'') + formatted;
    }
    global.classList.add('show');
    positionAt(btn);
  }
  function hide(){
    global.classList.remove('show');
  }
  document.querySelectorAll('.bibtex-popover').forEach(function(el){el.style.display='none';});
  document.querySelectorAll('[data-bibtex-button]').forEach(function(btn){
    var card=btn.closest('[data-bibtex]');
    if(!card) return;
    var bib=card.getAttribute('data-bibtex');
    btn.addEventListener('mouseenter', function(){show(btn, bib);});
    btn.addEventListener('mouseleave', function(){hide();});
    btn.addEventListener('focus', function(){show(btn, bib);});
    btn.addEventListener('blur', function(){hide();});
    btn.addEventListener('click', function(e){
      e.preventDefault();
      if(global.classList.contains('show')){hide();} else {show(btn, bib);} 
    });
  });
  global.addEventListener('mouseenter', function(){global.classList.add('show');});
  global.addEventListener('mouseleave', function(){hide();});
  copyBtn.addEventListener('click', function(e){
    e.stopPropagation();
    if(!currentBib) return;
    if(navigator.clipboard && navigator.clipboard.writeText){
      navigator.clipboard.writeText(currentBib).then(function(){
        var original=copyBtn.textContent; copyBtn.textContent='Copied';
        setTimeout(function(){copyBtn.textContent=original;},1200);
      });
    } else {
      var ta=document.createElement('textarea');
      ta.value=currentBib; document.body.appendChild(ta); ta.select();
      try{document.execCommand('copy');}catch(e){}
      document.body.removeChild(ta);
      var original=copyBtn.textContent; copyBtn.textContent='Copied';
      setTimeout(function(){copyBtn.textContent=original;},1200);
    }
  });
  window.addEventListener('scroll', function(){hide();}, {passive:true});
})();</script></body></html>